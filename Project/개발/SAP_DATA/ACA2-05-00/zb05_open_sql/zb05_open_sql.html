<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<title>ZB05_OPEN_SQL</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZB05_OPEN_SQL</h2>
<h3> Description: Program ZB00_OPEN_SQL</h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&&nbsp;Report&nbsp;ZB00_OPEN_SQL<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;Structured&nbsp;Query&nbsp;Language<br />
*&nbsp;&nbsp;&nbsp;SELECT&nbsp;조회할&nbsp;컬럼<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;입력할&nbsp;변수<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;읽어들일&nbsp;테이블<br />
*&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;테이블을&nbsp;읽을&nbsp;조건<br />
*&nbsp;GROUP&nbsp;BY&nbsp;그룹&nbsp;지정할&nbsp;필드<br />
*&nbsp;&nbsp;&nbsp;HAVING&nbsp;그룹의&nbsp;조건<br />
*&nbsp;ORDER&nbsp;BY&nbsp;정렬할&nbsp;조건필드<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
REPORT zb05_open_sql.<br />
<br />
   </div>
   <div class="codeComment">
*&---------------------------------------------------------------------*<br />
*&nbsp;하나의&nbsp;LINE&nbsp;을&nbsp;읽어&nbsp;올&nbsp;경우&nbsp;:&nbsp;SELECT&nbsp;SINGLE<br />
*&---------------------------------------------------------------------*<br />
*DATA&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;gs_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fldate&nbsp;TYPE&nbsp;sflight-fldate,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*SELECT&nbsp;SINGLE&nbsp;carrid&nbsp;connid&nbsp;fldate&nbsp;&nbsp;"한건만<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;gs_sflight&nbsp;&nbsp;&nbsp;"순서대로<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;gs_sflight&nbsp;&nbsp;"컬럼&nbsp;이름&nbsp;일치<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;connid&nbsp;=&nbsp;'0017'<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;fldate&nbsp;=&nbsp;'20230817'.&nbsp;"키&nbsp;조건에&nbsp;만족하지&nbsp;않으면&nbsp;랜덤으로&nbsp;읽혀짐<br />
*<br />
*WRITE&nbsp;:&nbsp;'Single&nbsp;Lines&nbsp;:&nbsp;',<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-fldate.<br />
*<br />
*CLEAR&nbsp;gs_sflight.<br />
<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;여러개의&nbsp;LINE&nbsp;을&nbsp;읽어&nbsp;올&nbsp;경우&nbsp;&nbsp;Array&nbsp;fetch<br />
*&---------------------------------------------------------------------*<br />
*DATA&nbsp;:&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*SELECT&nbsp;carrid&nbsp;connid&nbsp;fldate<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight&nbsp;&nbsp;"컬럼&nbsp;순서&nbsp;&&nbsp;형식<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight&nbsp;&nbsp;"컬럼&nbsp;이름<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'.<br />
*<br />
*WRITE&nbsp;'Several&nbsp;Lines'.<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-fldate.<br />
*ENDLOOP.<br />
<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;데이터베이스&nbsp;뷰&nbsp;읽기&nbsp;&nbsp;+&nbsp;SALV&nbsp;object&nbsp;+&nbsp;APPENDING&nbsp;,&nbsp;INTO<br />
*&---------------------------------------------------------------------*<br />
   </div>
   <div class="code">
DATA : go_alv_grid TYPE REF TO   cl_salv_table.<br />
   </div>
   <div class="codeComment">
*DATA&nbsp;:&nbsp;gt_flights&nbsp;&nbsp;TYPE&nbsp;TABLE&nbsp;OF&nbsp;dv_flights.<br />
*<br />
*"&nbsp;1)<br />
*SELECT&nbsp;*&nbsp;FROM&nbsp;&nbsp;dv_flights&nbsp;&nbsp;&nbsp;"SPFLI&nbsp;+&nbsp;SFLIGHT<br />
*&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_flights<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'.<br />
*"&nbsp;2)<br />
*SELECT&nbsp;*&nbsp;APPENDING&nbsp;TABLE&nbsp;gt_flights<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_flights<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;&nbsp;dv_flights&nbsp;&nbsp;&nbsp;"SPFLI&nbsp;+&nbsp;SFLIGHT<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AZ'.<br />
*<br />
**&nbsp;pattern&nbsp;form<br />
**&nbsp;short&nbsp;form&nbsp;(ctrl&nbsp;+&nbsp;space)<br />
**<br />
**-&nbsp;출력하고자&nbsp;하는&nbsp;List&nbsp;data&nbsp;를&nbsp;grid&nbsp;형식으로&nbsp;만들어주는&nbsp;메소드<br />
*cl_salv_table=&gt;factory(<br />
*&nbsp;&nbsp;IMPORTING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;r_salv_table&nbsp;&nbsp;&nbsp;=&nbsp;go_alv_grid&nbsp;&nbsp;"생성된&nbsp;객체<br />
*&nbsp;&nbsp;CHANGING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;t_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_flights&nbsp;).<br />
*<br />
**-&nbsp;데이터&nbsp;조회해주는&nbsp;메소드<br />
*go_alv_grid-&gt;display(&nbsp;).<br />
<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;동적으로&nbsp;select&nbsp;할&nbsp;컬럼&nbsp;이름을&nbsp;받아올&nbsp;수도&nbsp;있다.&nbsp;:&nbsp;(&nbsp;)&nbsp;괄호&nbsp;활용<br />
*&---------------------------------------------------------------------*<br />
*<br />
*DATA&nbsp;:&nbsp;gt_sflight&nbsp;TYPE&nbsp;TABLE&nbsp;OF&nbsp;sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight&nbsp;TYPE&nbsp;sflight.<br />
*<br />
*"&nbsp;컬럼&nbsp;이름을&nbsp;받는&nbsp;입력&nbsp;변수<br />
*PARAMETERS&nbsp;:&nbsp;pa_line&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;72.&nbsp;&nbsp;&nbsp;"컬럼&nbsp;이름<br />
*<br />
*"필드심볼과&nbsp;더불어&nbsp;활용도&nbsp;가능하다.<br />
*<br />
*SELECT&nbsp;(pa_line)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight.<br />
*<br />
*IF&nbsp;sy-subrc&nbsp;=&nbsp;0.<br />
*&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-fldate,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-price,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-currency,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-planetype.<br />
*&nbsp;&nbsp;ENDLOOP.<br />
*<br />
*ENDIF.<br />
<br />
*&---------------------------------------------------------------------*<br />
*&nbsp;동적으로&nbsp;필드&nbsp;이름을&nbsp;받아올&nbsp;수도&nbsp;있다.&nbsp;(인터널&nbsp;테이블&nbsp;형식)<br />
*&---------------------------------------------------------------------*<br />
<br />
*DATA&nbsp;:&nbsp;gt_sflight&nbsp;TYPE&nbsp;TABLE&nbsp;OF&nbsp;sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight&nbsp;TYPE&nbsp;sflight.<br />
*<br />
**PARAMETERS&nbsp;:&nbsp;pa_line&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;72.<br />
*<br />
*DATA&nbsp;:&nbsp;pa_line&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;72.<br />
*DATA&nbsp;:&nbsp;gt_line&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;pa_line.<br />
*<br />
*pa_line&nbsp;=&nbsp;'CARRID'.<br />
*APPEND&nbsp;pa_line&nbsp;TO&nbsp;gt_line.<br />
*<br />
*pa_line&nbsp;=&nbsp;'CONNID'.<br />
*APPEND&nbsp;pa_line&nbsp;TO&nbsp;gt_line.<br />
*<br />
*pa_line&nbsp;=&nbsp;'FLDATE'.<br />
*APPEND&nbsp;pa_line&nbsp;TO&nbsp;gt_line.<br />
*<br />
*SELECT&nbsp;(gt_line)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight.<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where<br />
*<br />
*IF&nbsp;sy-subrc&nbsp;=&nbsp;0.<br />
*&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-fldate,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-price,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-currency.<br />
*&nbsp;&nbsp;ENDLOOP.<br />
*<br />
*ENDIF.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;인터널&nbsp;테이블<br />
*--------------------------------------------------------------------*<br />
*&nbsp;SELECT&nbsp;*&nbsp;INTO&nbsp;TABLE&nbsp;ITAB&nbsp;FROM&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;ITAB의&nbsp;데이터를&nbsp;삭제한&nbsp;다음&nbsp;INSERT<br />
*&nbsp;SELECT&nbsp;APPENDING&nbsp;TABLE&nbsp;ITAB&nbsp;FROM&nbsp;...&nbsp;:&nbsp;ITAB에&nbsp;추가로&nbsp;INSERT<br />
*&nbsp;SELECT&nbsp;*&nbsp;INTO&nbsp;TABLE&nbsp;ITAB&nbsp;PACKAGE&nbsp;SIZE&nbsp;5&nbsp;FROM...&nbsp;ENDSELECT.<br />
   </div>
   <div class="code">
" 다섯개씩 묶어서 SELECT, 숫자는 임의로 지정 할수 있다. 이경우 반드시 ENDSELECT를 사용해야 한다.<br />
   </div>
   <div class="codeComment">
*--------------------------------------------------------------------*<br />
   </div>
   <div class="code">
" PACKAGE SIZE -&gt; 인터널 테이블에 입력한다.<br />
<br />
   </div>
   <div class="codeComment">
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;&nbsp;TYPE&nbsp;sflight,&nbsp;gs_sflight1&nbsp;TYPE&nbsp;sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*SELECT&nbsp;carrid&nbsp;connid<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;gs_sflight&nbsp;&nbsp;"한건씩&nbsp;select<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight&nbsp;&nbsp;&nbsp;"정해진&nbsp;갯수만큼&nbsp;select<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;spfli&nbsp;PACKAGE&nbsp;SIZE&nbsp;5.<br />
*<br />
*&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*&nbsp;&nbsp;ENDLOOP.<br />
*&nbsp;&nbsp;ULINE.<br />
*<br />
*ENDSELECT.<br />
<br />
   </div>
   <div class="code">
" 목표 : 한번에 한건만 (loop x)<br />
   </div>
   <div class="codeComment">
*SELECT&nbsp;SINGLE&nbsp;carrid&nbsp;connid&nbsp;INTO&nbsp;gs_sflight1&nbsp;&nbsp;FROM&nbsp;spfli&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'.<br />
*<br />
*"&nbsp;목표&nbsp;:&nbsp;한번에&nbsp;한건씩&nbsp;&nbsp;(loop&nbsp;o)<br />
*SELECT&nbsp;carrid&nbsp;connid&nbsp;INTO&nbsp;gs_sflight1&nbsp;&nbsp;FROM&nbsp;spfli&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'.<br />
*&nbsp;&nbsp;".....<br />
*ENDSELECT.<br />
*<br />
*"&nbsp;목표&nbsp;:&nbsp;한번에&nbsp;다건<br />
*SELECT&nbsp;carrid&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;FROM&nbsp;spfli.<br />
<br />
<br />
*<br />
*<br />
*WRITE&nbsp;:/&nbsp;gs_sflight1-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight1-connid.<br />
*ULINE.<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;FROM&nbsp;동적인&nbsp;TABLE&nbsp;선택&nbsp;(&nbsp;&nbsp;)&nbsp;활용<br />
*--------------------------------------------------------------------*<br />
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;TYPE&nbsp;sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*"&nbsp;1)&nbsp;입력변수&nbsp;활용<br />
**PARAMETERS&nbsp;:&nbsp;pa_table&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;10.&nbsp;"PARAMERTER값&nbsp;입력시&nbsp;반드시&nbsp;대문자로&nbsp;입력하여야&nbsp;함<br />
*<br />
*"&nbsp;2)&nbsp;전역변수&nbsp;활용<br />
*DATA&nbsp;:&nbsp;gv_table&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;10.<br />
*gv_table&nbsp;=&nbsp;'SBOOK'.<br />
*<br />
*SELECT&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_sflight<br />
**SELECT&nbsp;*&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight&nbsp;&nbsp;&nbsp;"&nbsp;target&nbsp;type&nbsp;=&nbsp;source&nbsp;&nbsp;type<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(gv_table)&nbsp;UP&nbsp;TO&nbsp;10&nbsp;ROWS&nbsp;"최대&nbsp;적중수&nbsp;제한<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(pa_table)&nbsp;UP&nbsp;TO&nbsp;10&nbsp;ROWS&nbsp;"최대&nbsp;적중수&nbsp;제한<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;'AA'.<br />
*<br />
*"최대&nbsp;라인수를&nbsp;지정하기&nbsp;위해&nbsp;UP&nbsp;TO&nbsp;~&nbsp;ROWS&nbsp;사용.&nbsp;최대적중수를&nbsp;제한하는&nbsp;용도로&nbsp;많이&nbsp;사용됨.<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,&nbsp;gs_sflight-connid.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;INNER&nbsp;JOIN<br />
*--------------------------------------------------------------------*<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;gty_join,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;TYPE&nbsp;scarr-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrname&nbsp;TYPE&nbsp;scarr-carrname,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;TYPE&nbsp;spfli-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityfrom&nbsp;TYPE&nbsp;spfli-cityfrom,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp;&nbsp;TYPE&nbsp;spfli-cityto,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;gty_join.<br />
*<br />
*DATA&nbsp;:&nbsp;gt_join&nbsp;TYPE&nbsp;TABLE&nbsp;OF&nbsp;gty_join,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_join&nbsp;TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gty_join.<br />
*<br />
*"&nbsp;1)&nbsp;기본형<br />
*SELECT&nbsp;scarr~carrid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrname&nbsp;"scarr~carrname<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;"고유한&nbsp;필드명인&nbsp;경우에는&nbsp;구별자(~)&nbsp;쓰지&nbsp;않아도&nbsp;된다.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityfrom<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Join&nbsp;column&nbsp;(field)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_join<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;scarr&nbsp;INNER&nbsp;JOIN&nbsp;spfli&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Join&nbsp;tables<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;scarr~carrid&nbsp;=&nbsp;spfli~carrid.&nbsp;"&nbsp;Join&nbsp;conditions&nbsp;(AND....)<br />
*<br />
*"&nbsp;2)&nbsp;별칭&nbsp;활용&nbsp;:&nbsp;일반형<br />
*SELECT&nbsp;a~carrid&nbsp;&nbsp;&nbsp;"&nbsp;scarr~carrid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a~carrname&nbsp;"scarr~carrname<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~connid&nbsp;&nbsp;&nbsp;"고유한&nbsp;필드명인&nbsp;경우에는&nbsp;구별자(~)&nbsp;쓰지&nbsp;않아도&nbsp;된다.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~cityfrom<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~cityto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Join&nbsp;column&nbsp;(field)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_join<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;scarr&nbsp;AS&nbsp;a&nbsp;INNER&nbsp;JOIN&nbsp;spfli&nbsp;AS&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Join&nbsp;tables<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~carrid&nbsp;=&nbsp;b~carrid.&nbsp;"&nbsp;Join&nbsp;conditions&nbsp;(AND....)<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;scarr~carrid&nbsp;=&nbsp;spfli~carrid.&nbsp;"&nbsp;Join&nbsp;conditions&nbsp;(AND....)<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where...<br />
*<br />
*cl_salv_table=&gt;factory(<br />
*&nbsp;&nbsp;IMPORTING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;r_salv_table&nbsp;&nbsp;&nbsp;=&nbsp;go_alv_grid&nbsp;&nbsp;"생성된&nbsp;객체<br />
*&nbsp;&nbsp;CHANGING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;t_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_join&nbsp;).<br />
*<br />
*go_alv_grid-&gt;display(&nbsp;).<br />
<br />
*--------------------------------------------------------------------*<br />
   </div>
   <div class="code">
" 중복제거 DISTINCT<br />
   </div>
   <div class="codeComment">
*DATA&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;gs_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrname&nbsp;TYPE&nbsp;scarr-carrname,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;gs_data.<br />
*<br />
*DATA&nbsp;:&nbsp;gt_data&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_data.<br />
*<br />
*SELECT&nbsp;DISTINCT&nbsp;a~carrid&nbsp;"중복값을&nbsp;제거하기&nbsp;위해서&nbsp;DISTINCT&nbsp;사용<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~carrname<br />
**SELECT&nbsp;a~carrid&nbsp;"중복값을&nbsp;제거하기&nbsp;위해서&nbsp;DISTINCT&nbsp;사용<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~carrname<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_data<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight&nbsp;AS&nbsp;a<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INNER&nbsp;JOIN&nbsp;scarr&nbsp;&nbsp;&nbsp;AS&nbsp;b<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~carrid&nbsp;=&nbsp;b~carrid<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INNER&nbsp;JOIN&nbsp;......<br />
*<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;a~carrid&nbsp;=&nbsp;'AA'.<br />
*"WHERE&nbsp;문이&nbsp;기술되어&nbsp;있으면&nbsp;WHERE&nbsp;문이&nbsp;ON&nbsp;보다&nbsp;먼저&nbsp;수행되어&nbsp;진다.<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_data&nbsp;INTO&nbsp;gs_data.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_data-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-carrname.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;&nbsp;(LEFT)&nbsp;OUTER&nbsp;JOIN<br />
*--------------------------------------------------------------------*<br />
<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;gty_join,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;TYPE&nbsp;scarr-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrname&nbsp;TYPE&nbsp;scarr-carrname,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;TYPE&nbsp;spfli-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityfrom&nbsp;TYPE&nbsp;spfli-cityfrom,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityto&nbsp;&nbsp;&nbsp;TYPE&nbsp;spfli-cityto,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;gty_join.<br />
*<br />
*DATA&nbsp;:&nbsp;gt_join&nbsp;TYPE&nbsp;TABLE&nbsp;OF&nbsp;gty_join,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_join&nbsp;TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gty_join.<br />
*<br />
*SELECT&nbsp;a~carrid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a~carrname<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~cityfrom<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b~cityto<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_join<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;scarr&nbsp;AS&nbsp;a&nbsp;inner&nbsp;JOIN&nbsp;spfli&nbsp;AS&nbsp;b<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;scarr&nbsp;AS&nbsp;a&nbsp;LEFT&nbsp;OUTER&nbsp;JOIN&nbsp;spfli&nbsp;AS&nbsp;b<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;a~carrid&nbsp;=&nbsp;b~carrid<br />
*&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;a~carrid&nbsp;a~carrname.<br />
*<br />
*cl_salv_table=&gt;factory(<br />
*&nbsp;&nbsp;IMPORTING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;r_salv_table&nbsp;&nbsp;&nbsp;=&nbsp;go_alv_grid&nbsp;&nbsp;"생성된&nbsp;객체<br />
*&nbsp;&nbsp;CHANGING<br />
*&nbsp;&nbsp;&nbsp;&nbsp;t_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gt_join&nbsp;).<br />
*<br />
*go_alv_grid-&gt;display(&nbsp;).<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;&nbsp;FOR&nbsp;ALL&nbsp;ENTRIES<br />
*--------------------------------------------------------------------*<br />
*&nbsp;JOIN과&nbsp;유사하며,&nbsp;LOOP를&nbsp;수행하면서&nbsp;SQL을&nbsp;수행한다.<br />
*&nbsp;ITAB의&nbsp;컬럼을&nbsp;조건으로&nbsp;SELECT&nbsp;건&nbsp;BY&nbsp;건&nbsp;으로&nbsp;DATA를&nbsp;읽어&nbsp;오기&nbsp;때문에<br />
*&nbsp;ITAB&nbsp;의&nbsp;수가&nbsp;많을때는&nbsp;사용하지&nbsp;않는&nbsp;것이&nbsp;좋음.<br />
*&nbsp;ITAB의&nbsp;값이&nbsp;NULL값이면&nbsp;모든&nbsp;값을&nbsp;가져오는&nbsp;등의&nbsp;에러가&nbsp;발생&nbsp;할&nbsp;수&nbsp;있기&nbsp;때문에<br />
*&nbsp;ITAB&nbsp;IS&nbsp;NOT&nbsp;INITIAL&nbsp;조건을&nbsp;걸어주는&nbsp;것이&nbsp;좋다.<br />
*--------------------------------------------------------------------*<br />
*&nbsp;SORT&nbsp;-&gt;&nbsp;중복제거&nbsp;-&gt;&nbsp;존재유무&nbsp;확인<br />
*--------------------------------------------------------------------*<br />
<br />
   </div>
   <div class="code">
TYPES : BEGIN OF ty_sflight,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_sflight.<br />
<br />
DATA : gs_sflight TYPE ty_sflight,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
<br />
DATA : gt_spfli TYPE TABLE OF spfli.<br />
<br />
" 검색 조건의 역할로써의 Itab (spfli)<br />
SELECT carrid connid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;gt_spfli<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;spfli.<br />
<br />
" 1. 검색 조건 기준으로 정렬<br />
SORT gt_spfli BY carrid connid.<br />
<br />
" 2. 중복제거<br />
DELETE ADJACENT DUPLICATES FROM gt_spfli COMPARING carrid connid.<br />
<br />
" 3. 존재유무 확인<br />
IF gt_spfli IS NOT INITIAL.<br />
<br />
&nbsp;&nbsp;"&nbsp;실제로&nbsp;검색되어야&nbsp;할&nbsp;table&nbsp;(sflight)<br />
&nbsp;&nbsp;SELECT&nbsp;carrid&nbsp;connid&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight&nbsp;FOR&nbsp;ALL&nbsp;ENTRIES&nbsp;IN&nbsp;gt_spfli&nbsp;"GT_SPFLI&nbsp;의&nbsp;필드를&nbsp;조건으로&nbsp;SELECT&nbsp;할&nbsp;수&nbsp;있다.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;=&nbsp;gt_spfli-carrid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;connid&nbsp;=&nbsp;gt_spfli-connid.<br />
ELSE.<br />
<br />
<br />
<br />
ENDIF.<br />
<br />
LOOP AT gt_sflight INTO gs_sflight.<br />
&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
ENDLOOP.<br />
<br />
   </div>
   <div class="codeComment">
*--------------------------------------------------------------------*<br />
*&nbsp;WHERE&nbsp;:&nbsp;interval&nbsp;조건&nbsp;(BETWEEN)<br />
*--------------------------------------------------------------------*<br />
<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_sflight.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;TYPE&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*SELECT&nbsp;carrid&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;BETWEEN&nbsp;'AA'&nbsp;AND&nbsp;'AZ'.<br />
*<br />
*&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*&nbsp;&nbsp;ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;WHERE&nbsp;:&nbsp;string&nbsp;비교<br />
*--------------------------------------------------------------------*<br />
<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_sflight.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;TYPE&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*SELECT&nbsp;carrid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;LIKE&nbsp;'A%'.&nbsp;"A로&nbsp;시작하는&nbsp;필드명<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;LIKE&nbsp;'A_'.&nbsp;"A로&nbsp;시작하면서&nbsp;자릿수(_)를&nbsp;지정하는것<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;&nbsp;LIST&nbsp;VALUE&nbsp;/&nbsp;SELECETION&nbsp;TABLE<br />
*--------------------------------------------------------------------*<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_sflight.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;TYPE&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
**DATA&nbsp;:&nbsp;gr_carr&nbsp;TYPE&nbsp;RANGE&nbsp;OF&nbsp;ty_sflight-carrid.<br />
**<br />
**SELECT-OPTIONS&nbsp;:&nbsp;so_carr&nbsp;FOR&nbsp;gs_sflight-carrid.<br />
**<br />
**gr_carr[]&nbsp;=&nbsp;so_carr[].<br />
**gr_carr&nbsp;=&nbsp;so_carr[].<br />
*<br />
*SELECT&nbsp;DISTINCT&nbsp;carrid&nbsp;connid&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;IN&nbsp;('AA',&nbsp;'AZ').&nbsp;"CARRID&nbsp;컬럼의&nbsp;필드&nbsp;AA와&nbsp;AZ를&nbsp;가져옴.<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;IN&nbsp;so_carr.<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;carrid&nbsp;IN&nbsp;gr_carr.<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;&nbsp;동적인&nbsp;WHERE&nbsp;구문<br />
*--------------------------------------------------------------------*<br />
*DATA&nbsp;:&nbsp;gs_where&nbsp;TYPE&nbsp;c&nbsp;LENGTH&nbsp;72.<br />
*DATA&nbsp;:&nbsp;gt_where&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_where.<br />
*<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_sflight.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_sflight&nbsp;TYPE&nbsp;ty_sflight,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_sflight&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_sflight.<br />
*<br />
*gs_where&nbsp;=&nbsp;`CARRID&nbsp;=&nbsp;'AA'`.&nbsp;&nbsp;"그레이브코드를&nbsp;사용함<br />
**APPEND&nbsp;gs_where&nbsp;TO&nbsp;gt_where.&nbsp;"&nbsp;두개이상의&nbsp;조건일때는&nbsp;ITAB으로&nbsp;옮겨&nbsp;사용한다.<br />
**<br />
**gs_where&nbsp;=&nbsp;'OR'.&nbsp;"두개이상일&nbsp;조건일땐&nbsp;OR도&nbsp;TABLE에&nbsp;넣어주어야&nbsp;함.<br />
**APPEND&nbsp;gs_where&nbsp;TO&nbsp;gt_where.<br />
**<br />
**gs_where&nbsp;=&nbsp;`CARRID&nbsp;=&nbsp;'AZ'`.<br />
**APPEND&nbsp;gs_where&nbsp;TO&nbsp;gt_where.<br />
*<br />
*SELECT&nbsp;DISTINCT&nbsp;carrid&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;(gs_where).<br />
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;(gt_where).<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_sflight&nbsp;INTO&nbsp;gs_sflight.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_sflight-connid.<br />
*ENDLOOP.<br />
<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;GROUP&nbsp;BY&nbsp;:&nbsp;aggregate&nbsp;함수를&nbsp;사용하려면&nbsp;SELECT&nbsp;구문에&nbsp;GROUP&nbsp;BY를&nbsp;기술해야&nbsp;함<br />
*&nbsp;GROUP&nbsp;BY&nbsp;구문은&nbsp;테이블의&nbsp;특정&nbsp;칼럼에&nbsp;같은&nbsp;값들이&nbsp;존재할&nbsp;때<br />
*&nbsp;이&nbsp;값들의&nbsp;정보를&nbsp;요약해서&nbsp;한&nbsp;줄의&nbsp;정보로&nbsp;조회되게&nbsp;한다.<br />
*--------------------------------------------------------------------*<br />
<br />
*AVG(평균)&nbsp;SUM(합계)&nbsp;MAX(최대값)&nbsp;MIN(최소값)&nbsp;COUNT(개수)&nbsp;STDDEV(표준편차)&nbsp;VARIANCE(분산)<br />
<br />
*DATA&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;gs_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentavg&nbsp;TYPE&nbsp;sflight-paymentsum,&nbsp;"평균<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentsum&nbsp;TYPE&nbsp;sflight-paymentsum,&nbsp;"합계<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentmax&nbsp;TYPE&nbsp;sflight-paymentsum,&nbsp;"최대값<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentmin&nbsp;TYPE&nbsp;sflight-paymentsum,&nbsp;"최소값<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;gs_data.<br />
*<br />
*DATA&nbsp;:&nbsp;gt_data&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_data.<br />
*<br />
*SELECT&nbsp;carrid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AVG(&nbsp;paymentsum&nbsp;)&nbsp;"평균<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUM(&nbsp;paymentsum&nbsp;)&nbsp;AS&nbsp;paymentsum&nbsp;"합계<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAX(&nbsp;paymentsum&nbsp;)&nbsp;"최대값<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MIN(&nbsp;paymentsum&nbsp;)&nbsp;"최소값<br />
*INTO&nbsp;TABLE&nbsp;gt_data&nbsp;"INTO&nbsp;CORRESPONDING&nbsp;FIEDLS&nbsp;OF&nbsp;TABLE을&nbsp;사용&nbsp;할떄에는&nbsp;SELECT&nbsp;문에서&nbsp;AS를&nbsp;사용해주는&nbsp;것이&nbsp;좋음.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;GROUP&nbsp;BY&nbsp;carrid&nbsp;connid.&nbsp;"동적으로&nbsp;선언&nbsp;가능<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_data&nbsp;INTO&nbsp;gs_data.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_data-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentavg&nbsp;CURRENCY&nbsp;'KRW',<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentsum&nbsp;CURRENCY&nbsp;'KRW',<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentmax&nbsp;CURRENCY&nbsp;'KRW',<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentmin&nbsp;CURRENCY&nbsp;'KRW'.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;GROUP&nbsp;BY&nbsp;~&nbsp;HAVING&nbsp;~&nbsp;:&nbsp;그룹의&nbsp;조건<br />
*--------------------------------------------------------------------*<br />
*GROUP&nbsp;BY&nbsp;로&nbsp;조회한&nbsp;SELECT&nbsp;구문에&nbsp;그룹의&nbsp;조건을&nbsp;추가.&nbsp;동적으로&nbsp;선언가능<br />
<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentsum&nbsp;TYPE&nbsp;sflight-paymentsum,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_data.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_data&nbsp;TYPE&nbsp;ty_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_data&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_data.<br />
<br />
*SELECT&nbsp;carrid&nbsp;connid&nbsp;&nbsp;AVG(&nbsp;paymentsum&nbsp;)&nbsp;"평균<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_data<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GROUP&nbsp;BY&nbsp;carrid&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HAVING&nbsp;AVG(&nbsp;paymentsum&nbsp;)&nbsp;&gt;&nbsp;100000.&nbsp;"평균예약좌석이&nbsp;100000&nbsp;이상으로&nbsp;조건&nbsp;설정<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_data&nbsp;INTO&nbsp;gs_data.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_data-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentsum&nbsp;CURRENCY&nbsp;'KRW'.<br />
*ENDLOOP.<br />
<br />
*--------------------------------------------------------------------*<br />
*&nbsp;ORDER&nbsp;BY<br />
*--------------------------------------------------------------------*<br />
*SELECT&nbsp;된&nbsp;DATA&nbsp;들이&nbsp;ORDER&nbsp;BY&nbsp;에&nbsp;기술된&nbsp;컬럼&nbsp;기준으로&nbsp;재정렬.<br />
*테이블&nbsp;KEY에&nbsp;의해&nbsp;정렬.<br />
*JOIN&nbsp;및&nbsp;VIEW에는&nbsp;사용&nbsp;불가능.<br />
*ASCENDING,&nbsp;DESCENDING&nbsp;으로&nbsp;오름차순,&nbsp;내림차순&nbsp;정렬&nbsp;사용가능<br />
*동적사용&nbsp;가능<br />
*--------------------------------------------------------------------*<br />
*TYPES&nbsp;:&nbsp;BEGIN&nbsp;OF&nbsp;ty_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;sflight-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paymentsum&nbsp;TYPE&nbsp;sflight-paymentsum,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;OF&nbsp;ty_data.<br />
*<br />
*DATA&nbsp;:&nbsp;gs_data&nbsp;TYPE&nbsp;ty_data,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_data&nbsp;LIKE&nbsp;TABLE&nbsp;OF&nbsp;gs_data.<br />
*<br />
*SELECT&nbsp;carrid&nbsp;connid&nbsp;AVG(&nbsp;paymentsum&nbsp;)&nbsp;AS&nbsp;paymentsum&nbsp;"ORDER&nbsp;BY에서는&nbsp;AVG같은&nbsp;함수를&nbsp;사용&nbsp;할&nbsp;수&nbsp;없기&nbsp;때문에&nbsp;AS&nbsp;설정<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INTO&nbsp;TABLE&nbsp;gt_data<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;sflight<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GROUP&nbsp;BY&nbsp;carrid&nbsp;connid<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HAVING&nbsp;AVG(&nbsp;paymentsum&nbsp;)&nbsp;&gt;&nbsp;100000&nbsp;"평균예약좌석이&nbsp;100000&nbsp;이상으로&nbsp;조건&nbsp;설정<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;paymentsum.&nbsp;"아무것도&nbsp;입력하지&nbsp;않으면&nbsp;자동으로&nbsp;오름차순(&nbsp;ASCENDING&nbsp;)<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;paymentsum&nbsp;DESCENDING.&nbsp;"내림차순&nbsp;(&nbsp;DESCENDING&nbsp;)<br />
*<br />
*LOOP&nbsp;AT&nbsp;gt_data&nbsp;INTO&nbsp;gs_data.<br />
*&nbsp;&nbsp;WRITE&nbsp;:/&nbsp;gs_data-carrid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-connid,<br />
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_data-paymentsum&nbsp;CURRENCY&nbsp;'KRW'.<br />
*ENDLOOP.<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">Extracted by Mass Download version 1.4.6 - E.G.Mellodew. 1998-2024. Sap Release 754</td>
   </tr>
</table>
</body>
</html>
